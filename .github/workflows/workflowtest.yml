on: workflow_dispatch

jobs:
  assess-policy-compliance:    
    runs-on: ubuntu-latest
    steps:
    # Azure Login       
    - name: Login to Azure
      uses: azure/login@v1
      with:
        creds: ${{secrets.AZURE_CREDENTIALS}} 
    
    - name: Check for resource compliance
      uses: azure/policy-compliance-scan@v0
      with:
        scopes: |
          /subscriptions/9d233741-0a33-4779-b653-29b43ca7c77d
          /subscriptions/e33fe4a0-8c6c-4254-bc7e-89bf979e0eee
          /subscriptions/6bee550a-f685-4cab-8401-faa90354d5e4
          /subscriptions/f6430ebd-62c6-41aa-ad23-34c2bc3ddc05
          /subscriptions/79a8df13-5255-4e4c-8a5c-773a68fe8973
          /subscriptions/c9d21b6b-3166-416b-ad9e-0bcff778b6dc
          /subscriptions/5f92eaf8-8a88-4a6b-a066-f39846f90555
          /subscriptions/8b932c52-39fe-44cb-a1c4-7cbae3624396
          /subscriptions/21adafce-69a2-4394-80b7-5b3fe4fdb60d
          /subscriptions/09a37bf7-ac25-484d-b3e5-6ed6b7605f78
          /subscriptions/f394088f-6c52-49df-9b70-0de600614672
          /subscriptions/8761f85b-1b35-4197-a5a9-9d794e472060
          /subscriptions/e880e345-39e4-4239-acaa-ede25c8e0900
          /subscriptions/4d3779ac-b33b-47e4-9489-81305d305042
          /subscriptions/5591d185-39b8-46d7-a588-cc387d3f5fda
          /subscriptions/6019cc95-6cc2-4f5f-b3ca-19c213a27fb2
          /subscriptions/45c585b9-521a-462e-8099-398f45e7399e
          /subscriptions/30cd2329-ef84-4e11-ae44-5e66923256d2
          /subscriptions/5b86f598-01af-4b6e-aeb8-2388b74fefed
          /subscriptions/5d01db64-237f-480f-a7dc-38ab55c51b4f
          /subscriptions/22cb4557-168c-4e6b-aad2-570756536f22
          /subscriptions/1e0f9832-42e2-4632-ba7f-e8e51fd8d711
          /subscriptions/5f1ad776-df00-4824-85ea-61d7bd15968a
          /subscriptions/8fa19517-7655-40fb-a724-e36376fcb9c5
          /subscriptions/3bb0e5ac-a331-40f9-b13d-b211023bacc0
          /subscriptions/86746bc9-fa5b-4685-8254-cce2b3b5b099
          /subscriptions/1dfe1e46-c0da-45a2-a6e7-64a36b433a99
          /subscriptions/a3d51cdf-56fe-443d-b654-cc4b050602e6
          /subscriptions/16aa5e9d-ed17-46bf-9301-86c509702def
          /subscriptions/b9e4917b-6b6a-4f64-aa62-a4bd820cfe80
          /subscriptions/deb74e4c-b610-4162-af8e-ef82291ed52b
          /subscriptions/efd18816-8edc-4eff-a1a3-efd047834a66
          /subscriptions/af8f0fa8-ec9c-436d-b205-81560a4a5767
          /subscriptions/7a16d44f-fa91-45db-8123-ec1f2f16f8da
          /subscriptions/99f877f5-256c-4e39-92bf-34d2fcf28f7c
          /subscriptions/0537e970-2844-40ad-a1de-c7fbe2049ed7
          /subscriptions/bce44f14-3c9d-4f09-ac60-8bc6cc1e073c
          /subscriptions/be0ad929-3126-491f-9658-158898ebf90d
          /subscriptions/2691996b-2443-49b1-ac23-705dddf1df6c
          /subscriptions/dfc15e27-5385-43bf-b71a-f754f2cb7115
          /subscriptions/58f8087c-98b9-47b8-ab43-f37ca527d425
          /subscriptions/ac6c39d5-4612-47c4-9b6b-bffa94870cfc
          /subscriptions/81fd114a-2418-4eb7-9744-774d82cf2067
          /subscriptions/cb4c991f-b871-41c9-a53d-3366ba184e5e
          /subscriptions/2b02f2ae-3719-4b54-98e5-577b7e51090c
          /subscriptions/be25e490-1d97-4ede-801e-02e8d123060c
          /subscriptions/d88a031e-8096-4a58-9dd1-1291cf7add5d
          /subscriptions/4536b158-3766-4e93-a3bb-cc7b80c987b3
          /subscriptions/3f5856ce-461d-4b28-bb96-578e90c35968
          /subscriptions/efc9e22f-81e1-4360-90e2-8f2aa6f7eac8
          /subscriptions/01cba89d-9bbc-46d8-93ae-b7259c0a2ce5
          /subscriptions/066338cf-474f-41ad-a312-3b24c176f9b5
          /subscriptions/c2aff660-6031-432e-8599-465f45a072df
          /subscriptions/a0c32676-fa9f-4da4-b11f-8e27f0b2af16
          /subscriptions/73dd97e3-4d0d-421c-9a9a-c2bf50e9ac80
          /subscriptions/d6afebd9-73ff-49e8-9545-81837f37e3b9
          /subscriptions/ab71dacd-aa49-40d4-8c5c-ef507586d23c
          /subscriptions/ff761409-fc0e-407c-97ac-9b6f0a3891e2
          /subscriptions/5a773da1-0ef4-4fda-b309-258d7878aff6
          /subscriptions/73529282-37b8-4216-aea9-8175f0281ed2
          /subscriptions/5b465c0a-4b4d-4837-9253-172211210f06
          /subscriptions/6cc28d84-40f1-46ed-a5cd-0ef878c9a7ec
          /subscriptions/09b395a7-6a68-4605-a157-47a00813373a
          /subscriptions/a331c1fc-2bbd-40ba-ba09-2193ea5cf85d
          /subscriptions/064f430e-551a-4fa1-a21a-d9b34100e284
          /subscriptions/7e83f129-81e9-4fcf-aebb-b5ef5dcda3e5
          /subscriptions/bf8463dc-ff45-4f35-96f8-85831dde56d9
          /subscriptions/83c36489-0a60-45d7-bda9-953baaee4312
          /subscriptions/d62f508a-9680-422f-8726-e67888480033
          /subscriptions/e1002b69-5664-4b20-9150-34e2e40be793
          /subscriptions/c24efc5e-9819-4122-af48-21b850173405
          /subscriptions/4bcebb69-a341-47b6-9657-e239000fc88b
          /subscriptions/33aeb191-3fc3-45de-9971-ff76dd37e096
          /subscriptions/56facd89-55e2-4bcd-b26b-b00670aa09b4
          /subscriptions/92e37278-26cd-425a-9a68-1a435b5906b3
          /subscriptions/73377d13-701b-42be-8f15-27b5e0e9897f
          /subscriptions/0ada2907-e5ad-4bb3-8396-1d2e48d5842e
          /subscriptions/4c92f5b2-0db8-4887-af5e-6430f569dad4
          /subscriptions/b0238909-8fcd-484d-86ea-0a232d38946f
          /subscriptions/8fbff860-4cf3-4de9-bf1d-2020cbef3c9b
          /subscriptions/872e01f5-cbb0-4010-a577-58161e3e735c
          /subscriptions/17077489-ee6e-4e1c-8e89-e089b6f7c342
          /subscriptions/a1c2cddd-d0b2-4119-b3d8-6e05a0aa0ea8
          /subscriptions/ce4ad896-1bbc-4cb2-9c3b-5ecd48547acc
          /subscriptions/421ebb14-6da7-4e6b-bbcc-d97e154bce64
          /subscriptions/e7be8e46-4f12-4579-9e89-cf0e2fe73aac
          /subscriptions/9fd2327a-1823-4423-a347-01e93db8d763
          /subscriptions/416a0294-e770-42fd-99d9-bf96e18fbc5a
          /subscriptions/0c085d32-1079-4186-b1d1-91550da611b1
          /subscriptions/9f58f678-e535-48f1-9b96-e53ce34365f4
          /subscriptions/535d3266-754b-45c2-97a0-b6ab99332dc7
          /subscriptions/d1e67b3b-08e9-4b80-a5eb-c0cf5bf09235
          /subscriptions/0e1a5200-706e-464d-b492-c3b0131e8caf
          /subscriptions/36d249da-081a-4108-8dc5-75149551e13d
          /subscriptions/bb1603db-abec-4986-9958-68d787981389
          /subscriptions/32599a1b-f04e-423b-8c35-09a2042d50ed
          /subscriptions/cff0bafd-0500-42b8-91c1-f4038556c1e0
          /subscriptions/9ae1825c-70b7-4f66-8e61-f35ca90c30bc
          /subscriptions/f44674e9-c4cb-4d78-a506-c964d67aeaee
          /subscriptions/95da85ab-36d1-4186-a5aa-999488599671
          /subscriptions/faa85b3c-7034-43f3-9b3e-502a6d366277
          /subscriptions/f7b4a953-55a4-4a4f-abff-73b05e85f516
          /subscriptions/fb87d0bc-7a57-4e63-ba2b-858bc20fec8a
          /subscriptions/21c378c2-c1d2-40cf-ad91-1c09cdd6216c
          /subscriptions/874d06d7-2a54-4d01-b359-144ac00bdac2
          /subscriptions/84fbe2d2-6077-4234-b04a-74560802cf5a
          /subscriptions/631b218b-af0e-4989-8041-c2dac4b44aee
          /subscriptions/36c91948-355a-4ded-ad65-959d5636e505
          /subscriptions/6412370c-4b6d-40ff-90b9-60c819e2d7ca
          /subscriptions/ba8c8b1a-d245-4d23-b6d9-89f3d3a9069d
          /subscriptions/3b5be010-2c50-4473-aa49-82a6bd08b108
          /subscriptions/756d0e1b-d8e3-4063-82b7-d80f22d1c6e2
          /subscriptions/2245c34d-6884-4c4a-9b2e-eec139bd13d4
          /subscriptions/357fbea8-701d-46f3-8142-3fa91b919b93
          /subscriptions/1ae9fa9a-82e5-4760-b5fe-ccba6d87fe34
          /subscriptions/7dc63e36-dd59-40ee-b90d-7535931c9cfd
          /subscriptions/1ef875f9-e340-47e4-9924-0e8fc1ce70d9
          /subscriptions/6d302991-ce1a-4e4d-81b9-f0cc142fbf04
          /subscriptions/ea8658dd-12f6-4690-b8aa-0d1af94b37e5
          /subscriptions/7dc9cf81-ea32-4dfe-a608-17927055d671
          /subscriptions/44d6c302-18fd-444f-b9ff-fa68efe7886d
          /subscriptions/63b9382a-b3a6-47d6-a190-2684cc35352b
          /subscriptions/2dd970e8-b5ea-4e67-87cb-508e97c41dcc
          /subscriptions/0daf9bf3-94cc-4823-921d-fdb562f62dbb
          /subscriptions/02820ce0-ded4-4c3a-bdbc-e6681ebf3128
          /subscriptions/2527f559-8f8c-4d91-b656-a7666dcb6c3a
          /subscriptions/ad296c26-7180-471b-a543-0a4e2c16f3a5
          /subscriptions/8974f285-fdfb-485b-8c61-c642cff81bdb
          /subscriptions/52b39a63-af3a-4598-b95e-3a853d38a9db
          /subscriptions/6bbd3ca2-8787-4fda-8c15-3ddf5b0ef949
          /subscriptions/579631a0-e9d3-4ace-b731-0bd592d9fb76
          /subscriptions/344f71ab-3afb-4f72-a9f4-86d4f122bfc2
          /subscriptions/f9a94c22-532e-4e96-8e78-aaa104b16cd3
          /subscriptions/55894f45-8dc2-4d8f-afa0-3c736f40cdec
          /subscriptions/a76b6974-b20d-40ad-8f15-f8f407db2731
          /subscriptions/0f0066ac-e068-4353-a5ec-e0707a4ed784
          /subscriptions/78707957-7fdd-4898-a4a0-63ccda245c6c
          /subscriptions/befa98dd-333e-4970-bf04-1e9a46a0c0b2
          /subscriptions/21017d15-cf38-4ee7-8b27-f3009beaeddd
          /subscriptions/68f28c13-00c3-4049-8f0b-738b8ea9d81b
          /subscriptions/a4106439-2405-42db-9f85-913feb148c18
          /subscriptions/53893552-f17a-4c14-9cdf-9b8c4a0c01c6
          /subscriptions/193ea012-8841-41f3-b62a-48a36b04fc20
          /subscriptions/2846920e-f7c9-428c-bbad-d4b58b6420ba
          /subscriptions/c7bc7bd3-8451-495a-a410-ef087fe3e67a
          /subscriptions/b1b04fcb-50c6-4e41-aa72-3e5daacb1012
          /subscriptions/a31b5028-6b34-40c7-aa41-7a7573318434
          /subscriptions/51a50966-2a8c-4b5c-a01a-0ea860e79338
          /subscriptions/136b79e1-c8a4-4bf3-a08d-c521690cc17e
          /subscriptions/801b2729-bf9e-47a4-ba88-7ab81d075450
          /subscriptions/5b2e2625-503e-4b3f-97b9-6ed8d2373894
          /subscriptions/9bbba7a5-d425-4e43-971d-7d8ec4e5bf6c
          /subscriptions/1c12ff31-8f5b-4b89-8963-97cebff09e9c
          /subscriptions/98cde2c5-10d9-41df-8fe4-08986fad0712
          /subscriptions/d0083fbe-4c27-45e6-bd54-6cdc7629fd2e
          /subscriptions/d8bbae40-ff42-4e9a-8fae-9c62b76a50d5
          /subscriptions/2ab21b37-4811-4db5-9a55-b4b4ccd285af
          /subscriptions/d17cc82f-9b88-4314-9531-dbe17c1e580b
          /subscriptions/0cbd8e66-dab4-48fe-a8d2-4a4f24b19d7c
          /subscriptions/3d9336c2-fb72-44a1-a70b-6e186adc96f7
          /subscriptions/9a47fc7d-581b-49a2-94b5-560db88817b8
          /subscriptions/edca54ed-6819-43e0-9622-c88f524de03c
          /subscriptions/892bcd78-cbf3-4cfb-9f5c-49d612fabab9
          /subscriptions/49d3673a-6a09-45d1-a1a3-f12fb87ab50b
          /subscriptions/d7ac5a90-418b-4830-a936-25f81dbb6d4b
          /subscriptions/186145f0-7eee-4881-b5c7-97ae60b80a4c
          /subscriptions/04a029ef-5d7c-4668-8cf9-7d3314aea643
          /subscriptions/cd68972f-924e-473e-97da-1c43a9471228
          /subscriptions/6d563cde-2507-4a44-b084-fb681fa7f943
          /subscriptions/6cc54888-b71c-42b6-984c-bf6bc5d1aacc
          /subscriptions/6fd36122-b3f2-4495-a9d7-203b2265d401
          /subscriptions/3844cf56-e4fb-4b10-a099-744139d28868
          /subscriptions/b129b45f-2d70-4bdd-9f49-dd7b65a56970
          /subscriptions/ca68d313-bf57-40db-ab2d-b2fef0fba732
          /subscriptions/d9f23541-bb05-44c7-a25a-33f85280d6f0
          /subscriptions/acccbc34-6f84-474f-9216-d9cf76f826e0
          /subscriptions/f023aafa-8e47-4703-b9da-7de0ea375963
          /subscriptions/0b460d7b-266f-463e-9bcb-747034b83a7a
          /subscriptions/c914d814-4f8a-41ef-92c7-a7ba560dfac6
          /subscriptions/bb68e5f4-05c8-45b4-939b-e2482e6a59d1
          /subscriptions/ddd91933-7a52-4f41-9adf-4950e1d591b0
          /subscriptions/4d4f7789-8fc8-4266-b212-4f9478006aa9
          /subscriptions/47f8af70-b080-4f31-a4b6-8251b3b01efc
          /subscriptions/d1a741bc-db6d-4b20-9d3e-e14a0fbef96c
          /subscriptions/faec8f43-d243-4753-8553-07687f5954c3
          /subscriptions/58caac05-cd44-4baf-9d75-3df3698031f4
          /subscriptions/dc410ba2-14a4-4f0f-b20b-43337b50e7a3
          /subscriptions/952ccc11-a82f-481a-9cc6-e99501f3a77e
          /subscriptions/41510044-3621-42cb-875e-25526abd21f4
          /subscriptions/1bcf5fb3-48b9-49ac-a6e0-1124bb8a3781
          /subscriptions/17ab423d-0d22-421d-8a9a-4a36fe343db0
          /subscriptions/8fe50f68-f518-45e1-aa61-87611def3f91
          /subscriptions/c8796b16-2f68-40f9-acd5-01a279f13cb9
          /subscriptions/353124a3-6892-4da3-8701-e444d03e4a9e
          /subscriptions/422a4f54-057d-433d-b770-c28ddefa8ebe
          /subscriptions/526e229c-c70b-4408-ba85-01b7fd1f8b7d
          /subscriptions/ceed985d-c166-4126-9236-562cca66fffd
          /subscriptions/7e81ff13-8e77-4d25-addd-c64df645c666
          /subscriptions/053cb79f-da73-4ff2-8c7d-105a720756fc
          /subscriptions/427c40b4-2138-45e9-b4cd-f5ea3e2c4d16
          /subscriptions/bd903403-1123-4c6a-b08c-e338f3aa256b
          /subscriptions/7ca4189f-4603-4b89-a6c7-bd689af02ec7
          /subscriptions/567b0c47-457a-4bec-9e8e-9101f3d984f2
          /subscriptions/101f3489-ddfa-44eb-ad39-dbef57637ce2
          /subscriptions/265a315b-626e-44fd-9e5f-06dcfa2b4219
          /subscriptions/91457c5b-60fd-4910-bfeb-a4cb343f1ffb
          /subscriptions/ef10e75e-e0ef-4898-9b1d-93fbe15a958f
          /subscriptions/e4694a79-e3e2-422a-88fe-dac1533c6eca
          /subscriptions/0e0dddfc-1e5f-47a6-bd54-6560908aaf5f
          /subscriptions/93cb9df7-8c8c-4130-99cc-37310280b1ce
          /subscriptions/3fd7c702-f4f5-4acf-902b-dcd7d5c64eeb
          /subscriptions/bf9ae2fd-f69e-4736-b906-16d8ad884b54
          /subscriptions/721c245b-6f90-471a-bdc0-1eb51b316afe
          /subscriptions/972a0f5c-54bc-443a-99b6-e28dfdaec507
          /subscriptions/fe89463d-00fe-470d-9a60-c0ef156c7984
          /subscriptions/910c755a-ecaa-4644-9536-bc1010e1238f
          /subscriptions/dbef9864-5ebe-42e5-8579-8eafaa81c7e6
          /subscriptions/e0bed798-b6f4-41fb-b7f8-9e308d328ec6
          /subscriptions/be1e52ea-ef03-4e91-bf81-141a7ab473d2
          /subscriptions/c5ea47a4-d481-4237-b3d0-b12f3ad7cc88
          /subscriptions/ccfd9054-fe07-490e-8400-3dfc464d33a4
          /subscriptions/9f307d66-cc88-4773-959e-aca368c3099f
          /subscriptions/442783ba-14bb-462f-b912-5efa06bcb244
          /subscriptions/d44918e4-ec50-47c5-adff-64ad01807927
          /subscriptions/6b32e7b7-b0e4-429c-a245-e52f71950fad
          /subscriptions/368cda6c-e856-40d6-91b7-bf36fba8565d
          /subscriptions/afb52f01-bf44-4b2f-b219-34b25f6c8c03
          /subscriptions/45fd2f7d-83fa-4196-9128-98ac59e49a46
          /subscriptions/f9e17344-b036-458b-82e8-3ce6467a1eab
          /subscriptions/0fcea98a-f569-4bc5-9567-3591abefebef
          /subscriptions/3fe13b42-1fa9-4d30-9909-02ac5bd01762
          /subscriptions/f83ba51d-3b56-4ec2-99fb-84c34488ff21
          /subscriptions/76d77fb9-ccfa-4718-a4c4-8a764f2b2a0d
          /subscriptions/febc5bf5-848a-4cc2-be71-e7ea025f5471
          /subscriptions/2702c50a-1c29-4561-8528-8ae030eae6b2
          /subscriptions/822b164e-e1ca-49af-8acb-563bd3336f16
          /subscriptions/b682ad7d-c575-4270-91b9-d722398d46be
          /subscriptions/e5ad619d-cbab-4bbd-bd5f-a66ea0aa0f73
          /subscriptions/bf3edbfb-b113-4154-a93f-c27e6d6697ad
          /subscriptions/7df4a2fb-48e1-4f95-9f7e-28c8e1635011
          /subscriptions/211b0b3e-57d0-453d-83bf-af9055b6b041
          /subscriptions/7cc78261-4f24-4cda-b752-a729789d81ea
          /subscriptions/60857b02-313c-469e-8676-e4c9b111de6b
          /subscriptions/666311b8-b846-4ef2-84fd-149dc13804ab
          /subscriptions/6895f653-c7d4-420b-8e56-ac66200e5d8f
          /subscriptions/e665ce3e-67ac-44e7-b74f-f47fb79290ba
          /subscriptions/839d53c6-c8b2-4be2-8391-11d8ea91db69
          /subscriptions/46e5b5b1-9ba9-4705-bfac-ea314cca0e4b
          /subscriptions/255ac7d2-ffec-4b6d-bf62-6360e48bab69
          /subscriptions/37a68fbc-7342-4fb9-9db3-5fd5c53f8700
          /subscriptions/b256e141-f6d0-4511-948d-98b88ea70620
          /subscriptions/c20255f4-788f-46ec-84c1-e62f252e8e99
          /subscriptions/73163ad4-c82e-4d34-a1c4-006df8d7b20a
          /subscriptions/cb6fd27f-7ba1-4674-8659-259522715489
          /subscriptions/e39dc8a6-de7c-4821-becd-36e6b578e795
          /subscriptions/27fdf240-8009-43ab-b1e6-8f4dcbcd8c5c
          /subscriptions/cd3f88fb-c505-49d3-a0a7-337b24526c26
          /subscriptions/a5351a6b-e40c-44bb-8fb0-bb47f2b2e238
          /subscriptions/c828b1fe-9834-4f20-95ba-bcac7ec57710
          /subscriptions/8f1e6ea2-3e6d-429d-98d8-50831086d9f4
          /subscriptions/65080ba4-82b1-47df-ae8d-4ae6d69b914c
          /subscriptions/f7827a01-24c0-4d1a-bde3-4361acf66d99
          /subscriptions/f66e4650-a160-4356-b4d4-e7f889558bb6
          /subscriptions/4d940d72-4f21-4a78-8bb4-ae92c93b9e31
          /subscriptions/29dbe35c-f51a-48ce-bbde-8da132d01e75
          /subscriptions/05d44609-f55c-4b77-9905-596c1789585d
          /subscriptions/ecaeee3d-df1b-45ea-96e6-ed85ca9b7e99
          /subscriptions/5acf2dc9-48f9-4384-80d2-99efe6a4cb9f
          /subscriptions/2c1c9eed-60f2-4ced-818f-4964dc40b2e9
          /subscriptions/29d03ad8-9f76-4406-9543-74d7ba8bf797
          /subscriptions/53be4384-17cf-4be8-b637-8fa92dececc0
          /subscriptions/bf7f56f7-57ef-4c9e-bf73-795f0ae232d4
          /subscriptions/f5c29c34-a70f-4d2b-835b-f8afdd345f80
          /subscriptions/e1e905a4-9cb9-498d-a40a-eb6aa4494a7e
          /subscriptions/75579a34-cc17-4de2-b786-8a6342e4247c
          /subscriptions/aa6a482a-060c-4c13-8364-433a3918226a
          /subscriptions/07c67e9f-bbb7-4910-a76f-d657151725c8
          /subscriptions/c7e66eb9-86b9-4490-a3f6-9287d8a8dcc5
          /subscriptions/458370e3-15cc-4e67-b206-f7b37a15a0b8
          /subscriptions/c180c8a6-50c6-4e9a-9ff9-a4991c0ba6ea
          /subscriptions/f3f29c19-512f-4619-b5f4-b21bee982cf3
          /subscriptions/3fc4c932-63be-41d2-88b2-596cf5f44305
          /subscriptions/f9a3a73b-bb54-4109-92c7-13e22228de98
          /subscriptions/fe52cb02-2704-4233-ac38-8ba3adf46af0
          /subscriptions/d24df331-ac50-42f9-86a8-380367a143b4
          /subscriptions/71ae6b62-b66e-4856-96a3-544be77db5ed
          /subscriptions/20e54b9d-2882-4898-bb0e-635568be94f6

        report-name: testoutput

        
